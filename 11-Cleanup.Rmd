# Cleanup {#cleanup}
```{r, fig.align = 'center',out.width= '20%', echo=FALSE }
knitr::include_graphics(path = "figures/sweep.png", auto_pdf = TRUE)
``` 

Like to remove intermediary files that are not needed. We could delete all the directories apart from final assembly however we will delete files that are definitely not needed, leaving files that we may want to use again (assembly fasta files, stats etc.).

You can delete files you definitely don't need as you go along (recommended for large files or if storage space is a premium) but I tend to do my cleanup at the end of a project.

cd ~/bacterial_assembly_standard_workflow

du -hsc *

##redbean

du -hsc redbean_assembly/*

#delete the gzipped files that we will most likely never even look at
#always like to ls when using wildcards or deleting directories before deleting to make sure your are not deleting anything you don’t want to
ls redbean_assembly/*gz
rm redbean_assembly/*gz

#delete the index files for the assembly we created for racon polishing
ls redbean_assembly/ecoli.ctg.fa.*
rm redbean_assembly/ecoli.ctg.fa.*

## quast

Generally quast does not produce large files so we will ignore it here

## busco

du -hsc busco/redbean/*

rm -r busco/redbean/busco_downloads

ls busco/redbean/busco_*.log
rm busco/redbean/busco_*.log

du -hsc busco/redbean/ecoli/*
ls busco/redbean/ecoli/logs
rm -r busco/redbean/ecoli/logs
ls busco/redbean/ecoli/prodigal_output
rm -r busco/redbean/ecoli/prodigal_output
#The below directory may be useful but normally the short summary is sufficient to keep and use
ls busco/redbean/ecoli/run_enterobacterales_odb10
rm -r busco/redbean/ecoli/run_enterobacterales_odb10

## checkm

du -hsc checkm/redbean/ecoli/*

ls checkm/redbean/ecoli/storage
rm -r checkm/redbean/ecoli/storage

## racon

du -hsc racon/redbean/ecoli/*

#delete sam files, these are relatively large
ls racon/redbean/ecoli/*sam
rm racon/redbean/ecoli/*sam

#index files
ls racon/redbean/ecoli/*.fasta.*
rm racon/redbean/ecoli/*.fasta.*

#dnadiff has small files so we will leave alone
du -hsc racon/redbean/ecoli/dnadiff*

##circlator
du -hsc circlator/redbean_raconi2/ecoli/*

#we can delete all the 00-05 files

ls circlator/redbean_raconi2/ecoli/0[0-5]*
rm circlator/redbean_raconi2/ecoli/0[0-5]*

## All prokkas files are useful

##I will let you cleanup in the final assembly directory

## tar
#Good to tar a directory when not needed any more
#Lots of files will slow a cluster a tarred directory will only count as one file

#do with a practice directory we’ll make by copying our standard_workflow_directory
cd ~/bacterial_assembly
cp -r standard_workflow standard_workflor_backup

tar -czvf standard_workflow.tar.gz standard_workflor_backup
#you can watch as the different files are compressed

rm -rf standard_workflow_backup

#UNtar
tar -xzvf standard_workflow.tar.gz
ls standard_workflow_backup